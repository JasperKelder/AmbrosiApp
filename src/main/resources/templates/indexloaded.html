<!DOCTYPE HTML>
<html lang="en" xmlns:th="https://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <title>AmbrosiApp - Overview</title>
    <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="/stylesheet.css"/>
    <link rel="icon" type="image/png" href="/images/smileySmall.png">
</head>
<!-- Temporary extra version of index.html to make sure loading the grid doesn't cause problems -->
<body>
<div id="mySidenav" class="sidenav">
    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
    <a th:href="@{/index}">AmbrosiApp</a>
    <a th:href="@{/login}">Login</a>
    <div sec:authorize="hasAuthority('ROLE_USER')">
        <a th:href="@{/add}">Add</a>
        <a th:href="@{/userinfo}">MyInfo</a>
    </div>
    <div sec:authorize="hasAuthority('ROLE_ADMIN')">
        <a th:href="@{/cuisine}">Cuisine</a>
        <a th:href="@{/recipes}">Recipe</a>
        <a th:href="@{/category}">Category</a>
    </div>
    <div sec:authorize="hasAuthority('ROLE_USER')">
    <a th:href="@{/logout}">Logout</a>
    </div>
</div>
</div>
<!-- Add all page content inside this div if you want the side nav to push page content to the right (not used if you only want the sidenav to sit on top of the page -->
<div id="main">
    <!-- Use any element to open the sidenav -->
    <div onclick="openNav()"><img class="broccoli" src="/images/broccoli.png" alt="Broccoli">
    </div>
    <!--    grid-container creates a new container where max 8 grid items can be stored-->
    <div class="grid-container">
        <!-- creates a list of numbers from 0 to the length of the list - 1 (or else out of bounds error)-->
        <div th:each="i : ${#numbers.sequence(0, allRecipes.size() - 1)}">
            <!-- this will add all the info into the grid items-->
            <div class=grid-item th:value="${allRecipes.get(i).recipeId}">
                <a th:href="@{/view/{recipeId}(recipeId=${allRecipes.get(i).recipeId})}">
                    <br><img th:src="|data:image/jpeg;base64,${allImages.get(i)}|" alt="Food" class="gridImage"></a>
            </div>
            <div class="food" th:text="${allRecipes.get(i).recipeTitle}"></div>
            <!-- everytime that the size of the items modulo 8 equals 0 create new grid-->
            <div th:if="${i} % 8 == 0">
                <div th:if="${i} % 8 != 0">
                </div>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="script/navigation.js"></script>
</body>
</html>